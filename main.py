import base64
mycode = "I0J5IGtyeXB0b24tWAppbXBvcnQgYmFzZTY0CmltcG9ydCBoYXNobGliCmltcG9ydCBjb2RlY3MKaW1wb3J0IHN0cmluZwpwcmludCgiXDAzM1sxOzMyOzQwbSBfICBfXyAgICAgICAgICAgICAgICAgXyAgICAgICAgICAgICAgICAgIF9fICBfXyIpCnByaW50KCJcMDMzWzE7MzE7NDBtfCB8LyAvXyBfXyBfICAgXyBfIF9fIHwgfF8gX19fICBfIF9fICAgICAgXCBcLyAvIikKcHJpbnQoIlwwMzNbMTszNjs0MG18ICcgL3wgJ19ffCB8IHwgfCAnXyBcfCBfXy8gXyBcfCAnXyBcIF9fX19fXCAgLyIpCnByaW50KCJcMDMzWzE7MzM7NDBtfCAuIFx8IHwgIHwgfF98IHwgfF8pIHwgfHwgKF8pIHwgfCB8IHxfX19fXy8gIFwgIikKcHJpbnQoIlwwMzNbMTszNDs0MG18X3xcX1xffCAgIFxfXywgfCAuX18vIFxfX1xfX18vfF98IHxffCAgICAvXy9cX1wgIikKcHJpbnQoIlwwMzNbMTszNTs0MG0gICAgICAgICAgIHxfX18vfF98IikKcHJpbnQoIlwwMzNbMTszMjs0MG0iKQpwcmludCgiWzFdIFJPVDEzIikKcHJpbnQoIlsyXSBCYXNlNjQiKQpwcmludCgiWzNdIEhleCIpCnByaW50KCJbNF0gTUQ1IikKcHJpbnQoIls1XSBCYXNlNjQgRGVjb2RlIikKcHJpbnQoIls2XSBIZXggdG8gQmluIikKcHJpbnQoIls3XSBST1QxMyBEZWNvZGUiKQpwcmludCgiWzhdIEJpbmFyeSIpCnByaW50KCJbOV0gQmluYXJ5IHRvIFN0cmluZyIpCnByaW50KCJbMTBdIFBIUCBPYmZ1c2NhdGlvbiIpCnByaW50KCJleGl0IikKaW5wID0gIiIKd2hpbGUgKGlucCAhPSAnZXhpdCcpOgogICAgaW5wID0gaW5wdXQoIlxuPiAiKS5sb3dlcigpCiAgICBpZihpbnAgPT0gJzEnKToKICAgIAkJcyAgID0gaW5wdXQoIklucHV0IHlvdXIgdGV4dDogIikKICAgIAkJZW5jID0gY29kZWNzLmdldGVuY29kZXIoICJyb3QtMTMiICkKICAgIAkJb3MgID0gZW5jKCBzIClbMF0KICAgIAkJcHJpbnQob3MpCiAgICBlbGlmKGlucCA9PSAnMicpOgogICAgICAgIG1lc3NhZ2UgPSBpbnB1dCgiSW5wdXQgeW91ciB0ZXh0OiAiKQogICAgICAgIG1lc3NhZ2VfYnl0ZXMgPSBtZXNzYWdlLmVuY29kZSgnYXNjaWknKQogICAgICAgIGJhc2U2NF9ieXRlcyA9IGJhc2U2NC5iNjRlbmNvZGUobWVzc2FnZV9ieXRlcykKICAgICAgICBiYXNlNjRfbWVzc2FnZSA9IGJhc2U2NF9ieXRlcy5kZWNvZGUoJ2FzY2lpJykKICAgICAgICBwcmludChiYXNlNjRfbWVzc2FnZSkKICAgIGVsaWYoaW5wID09ICczJyk6CiAgICAgICAgYmluID0gaW5wdXQoIklucHV0IHlvdXIgdGV4dDogIikKICAgICAgICBoZXggPSBiaW4uZW5jb2RlKCkuaGV4KCkKICAgICAgICBwcmludChoZXgpCiAgICBlbGlmKGlucCA9PSAnNCcpOgogICAgICAgIHRleHQgPSBpbnB1dCgnRW50ZXIgc3RyaW5nIHRvIGhhc2g6ICcpCiAgICAgICAgaGFzaF9vYmogPSBoYXNobGliLm1kNSh0ZXh0LmVuY29kZSgpKQogICAgICAgIHByaW50KGhhc2hfb2JqLmhleGRpZ2VzdCgpKQogICAgCiAgICBlbGlmKGlucCA9PSAiNyIpOgogICAgCXJvdGRhdGEgPSBpbnB1dCgiSW5wdXQgWW91ciBST1QxMzogIikKICAgIAlyb3QxMyA9IGxhbWJkYSBzIDogY29kZWNzLmdldGVuY29kZXIoInJvdC0xMyIpKHMpWzBdCiAgICAJZGUgPSByb3QxMyhyb3RkYXRhKQogICAgCXByaW50KGRlKQogICAgZWxpZihpbnAgPT0gIjYiKToKICAgICAgICAJaGV4ID0gaW5wdXQoIklucHV0IHlvdXIgaGV4OiAiKQogICAgICAgIAliaW4gPSBlbiA9IGJ5dGVzLmZyb21oZXgoaGV4KS5kZWNvZGUoJ3V0Zi04JykKICAgICAgICAJcHJpbnQoYmluKQogICAgZWxpZihpbnAgPT0gIjUiKToKICAgICAgICAJYmFzZTY0X21lc3NhZ2UgPSBpbnB1dCgiSW5wdXQgeW91ciBiYXNlNjQ6ICIpCiAgICAgICAgCWJhc2U2NF9ieXRlcyA9IGJhc2U2NF9tZXNzYWdlLmVuY29kZSgnYXNjaWknKQogICAgICAgIAltZXNzYWdlX2J5dGVzID0gYmFzZTY0LmI2NGRlY29kZShiYXNlNjRfYnl0ZXMpCiAgICAgICAgCW1lc3NhZ2UgPSBtZXNzYWdlX2J5dGVzLmRlY29kZSgnYXNjaWknKQogICAgICAgIAlwcmludChtZXNzYWdlKQogICAgZWxpZihpbnAgPT0gIjgiKToKICAgICAgICB0ZXN0X3N0ciA9IGlucHV0KCJJbnB1dCB5b3VyIHN0cmluZzogIikKICAgICAgICByZXMgPSAnJy5qb2luKGZvcm1hdChvcmQoaSksICcwOGInKSBmb3IgaSBpbiB0ZXN0X3N0cikKICAgICAgICBwcmludChzdHIocmVzKSkKICAgIGVsaWYoaW5wID09ICI5Iik6CiAgICAgICAgYml0cyA9IGlucHV0KCJJbnB1dCB5b3VyIEJpbmFyeTogIikKICAgICAgICBuID0gaW50KGJpdHMsIDIpCiAgICAgICAgZGUgPSBuLnRvX2J5dGVzKChuLmJpdF9sZW5ndGgoKSArIDcpIC8vIDgsICdiaWcnKS5kZWNvZGUoKQogICAgICAgIHByaW50KGRlKQogICAgZWxpZihpbnAgPT0gJzEwJyk6CiAgICAJcHJpbnQoIlwwMzNbMTszNzs0MG0gVG8gZW5jb2RlIFBIUCBzb3VyY2UgY29kZSwgcGxlYXNlIHNhdmUgeW91ciBwaHAgc2N0aXB0IGluIGRhdGEucGhwIGFuZCBlbnRlciB0aGlzIGNvbW1hbmQ6IikKICAgIAlwcmludCgiXDAzM1sxOzMxOzQwbSQgcGhwIG9iZnVzLnBocCIpCiAgICAJYnJlYWsKICAgIGVsaWYoaW5wID09ICdleGl0Jyk6CiAgICAgICAgcHJpbnQoIkJ5ZSBCeWUhIikKICAgICAgICBicmVhawogICAgZWxzZToKCSAgICBwcmludCgiXG5JbnZhbGlkIE9wdGlvbiIpCgkgICAgYnJlYWs="
eval(compile(base64.b64decode(mycode),'<string>','exec'))